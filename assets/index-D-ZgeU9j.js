var t,s,e,i,n,a,r,h,o,c,l,p,d,u,f,g,y,m,x,I,k,v,b,w,P,S,C,M,_,B,A,T,z,j,E,H,L,O=Object.defineProperty,D=(t,s,e)=>((t,s,e)=>s in t?O(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e)(t,"symbol"!=typeof s?s+"":s,e);import{r as K}from"./phaser-y5S3hZEA.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver((t=>{for(const e of t)if("childList"===e.type)for(const t of e.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&s(t)})).observe(document,{childList:!0,subtree:!0})}function s(t){if(t.ep)return;t.ep=!0;const s=function(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?s.credentials="include":"anonymous"===t.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(t);fetch(t.href,s)}}();var W=K(),R=N;function X(){var t=["scene","534zwjtXL","8777000niJDyR","assets/bg.png","Boot","7323432gvhGCx","5930YdVSkC","4aHjkWZ","334403FvDLaS","create","99480EGseax","33MjXSxs","load","9819KydkQe","110INaIJr","4613WRCZth","2036454RFlflU"];return(X=function(){return t})()}function N(t,s){var e=X();return(N=function(t,s){return e[t-=261]})(t,s)}!function(t,s){for(var e=N,i=X();;)try{if(585271==parseInt(e(266))/1*(-parseInt(e(265))/2)+parseInt(e(274))/3+-parseInt(e(268))/4*(-parseInt(e(272))/5)+-parseInt(e(276))/6*(parseInt(e(273))/7)+-parseInt(e(277))/8+-parseInt(e(271))/9*(parseInt(e(264))/10)+-parseInt(e(269))/11*(-parseInt(e(263))/12))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class G extends W.Scene{constructor(){super(N(262))}preload(){var t=N;this[t(270)].image("background",t(261))}[R(267)](){this[R(275)].start("Preloader")}}function q(t,s){var e=Y();return(q=function(t,s){return e[t-=180]})(t,s)}var V=q;function Y(){var t=["2679518nuLFaf","enemiesHitCount","133CSzHyn","existing","setDepth","6632397WpVrfY","1pAfZXk","175926OUIAzD","spells","physics","3448722ngxSGs","3662690giYetQ","add","targetsHit","40gTeZrN","2756196nAVgJD","Sprite","owner","9733936sjDGBc"];return(Y=function(){return t})()}!function(t,s){for(var e=q,i=Y();;)try{if(940217==parseInt(e(193))/1*(-parseInt(e(187))/2)+parseInt(e(197))/3+parseInt(e(183))/4+-parseInt(e(198))/5+-parseInt(e(194))/6*(parseInt(e(189))/7)+-parseInt(e(186))/8+-parseInt(e(192))/9*(-parseInt(e(182))/10))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class F extends(i=Phaser.Physics.Arcade[V(184)],e=V(185),s=V(188),t=V(181),i){constructor(i,n,a,r,h){var o=V;super(i,n,a,r),D(this,e),D(this,s,0),D(this,t),this[o(185)]=h,i.add[o(190)](this),i[o(195)].add(this),i[o(196)][o(180)].existing(this),this[o(181)]=new Set,this[o(191)](10)}}const U=Z;function J(){const t=["cast","78892QzyJkA","tweens","16372fFWmCW","setGravityY","setTint","1029177kdXFTC","setVelocityY","scene","destroy","anims","426fOcfcw","963110dNSVZN","active","304UrhXPJ","2415476jDdMMA","Linear","5988498GKXIba","setScale","lightning-bolt","864550rnJOvn","delayedCall"];return(J=function(){return t})()}function Z(t,s){const e=J();return(Z=function(t,s){return e[t-=447]})(t,s)}!function(t,s){const e=Z,i=J();for(;;)try{if(802402==-parseInt(e(454))/1+parseInt(e(459))/2*(-parseInt(e(467))/3)+parseInt(e(457))/4+-parseInt(e(468))/5+-parseInt(e(451))/6+-parseInt(e(449))/7+-parseInt(e(448))/8*(-parseInt(e(462))/9))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class Q extends F{constructor(t,s,e,i){super(t,s,e,Z(453),i)}[U(456)](t,s,e){const i=U;this[i(466)].play(i(453)),this[i(452)](1),this[i(461)](16777215);const n=Phaser.Math.Between(-50,50);this.scene[i(458)].add({targets:this,angle:{from:0,to:n},duration:400,ease:i(450)}),this.setVelocityX(t*s),this[i(463)](e),this[i(460)](-2500),this[i(464)].time[i(455)](1e3,(()=>{const t=i;this[t(447)]&&this[t(465)]()}))}}const $=tt;function tt(t,s){const e=st();return(tt=function(t,s){return e[t-=422]})(t,s)}function st(){const t=["play","Math","178916etcSYW","clear","159590ahTTmC","lightning-bolt","delayedCall","text","anims","cast","wizard-attack","1428822TBzDmh","#ff0000","16px","height","#ffff00","floor","destroy","16px Arial","say","Back.easeIn","toString","98858VWtfhL","YKwdP","max","maxHp","tweens","hmsJq","scene","Cubic","from","Between","Linear","6wZErJB","wizard-idle","39DgMzej","10BQIRSx","fillStyle","add","2096896nRhxMx","player","Arcade","isBigBoy","healthBar","setVisible","castLightningSpell","level","378jXIPCq","qtJjB","updateHealthBar","hit","isAttacking","existing","fillRect","preUpdate","length","setDepth","time","5246857lqDLOy","Sprite","setCollideWorldBounds","Physics","owner","graphics","65334DBlyrU","DkOhT","physics"];return(st=function(){return t})()}!function(t,s){const e=tt,i=st();for(;;)try{if(324486==-parseInt(e(443))/1*(parseInt(e(432))/2)+parseInt(e(445))/3*(parseInt(e(479))/4)+parseInt(e(481))/5+parseInt(e(474))/6*(parseInt(e(457))/7)+-parseInt(e(449))/8+parseInt(e(488))/9+-parseInt(e(446))/10*(parseInt(e(468))/11))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class et extends Phaser[$(471)][$(451)][$(469)]{constructor(t,s,e,i,o=100,c=!0){const l=$;super(t,s,e,i),D(this,h,1),D(this,"hp"),D(this,r),D(this,a,!1),D(this,n),this.hp=o,this[l(435)]=o,t[l(448)].existing(this),t[l(476)][l(448)][l(462)](this),this[l(470)](!0),this.healthBar=t.add[l(473)](),this[l(453)][l(454)](c),this.healthBar[l(466)](1e3),this[l(459)]()}[(h=$(456),r=$(435),a=$(461),n=$(453),$(460))](t){const s=$,e=this.hp;if(this.hp-=t,this.showFloatingCombatText(this.x,this.y,t[s(431)](),s(425)),this[s(438)][s(436)][s(448)]({targets:this,alpha:.9,duration:200,ease:s(442),yoyo:!0,repeat:2,onComplete:()=>{}}),this.hp<=0&&e>0){const t=this.scene;this[s(453)][s(427)](),this.scene[s(436)][s(448)]({targets:this,duration:200,ease:s(430),scaleX:0,scaleY:0,rotation:Phaser.Math.DegToRad(50),onComplete:()=>{const e=s;let i=88+Math[e(426)](10.5*t[e(450)][e(456)]);e(433)!==e(475)?i+=20:_0x4a3804[e(427)](),this[e(452)]?t[e(450)].gainExperience(700*i):t[e(450)].gainExperience(i),this[e(427)]()}})}}showFloatingCombatText(t,s,e,i=$(422),n=$(428)){const a=$,r=Phaser[a(478)].Between(-15,15),h=Phaser[a(478)][a(441)](-9,14),o=this[a(438)][a(448)][a(484)](t+r,s+h,""+e,{font:n,color:i,stroke:"#000000",strokeThickness:2}),c=Phaser.Math.Between(-10,10),l=Phaser[a(478)][a(441)](-30,-50);this[a(438)][a(436)][a(448)]({targets:o,x:o.x+c,y:o.y+l,alpha:0,duration:800,ease:a(439),onComplete:()=>{const t=a;if("pUjAm"!==t(458))o[t(427)]();else{const s=new _0x1578a6(this[t(438)],this.x+_0xd9923a,this.y+_0x3813b6,this);s[t(472)]=this,s[t(486)](_0xd3c5e0,1e3,10*_0x153154),!_0x24c597&&(this[t(438)].sound[t(477)](t(482),{volume:.35,detune:_0xbfd629[t(478)][t(441)](-500,500)}),_0x849892=!0),_0xe49ce8===_0x3535e1[t(465)]-1&&(this[t(461)]=!1,this[t(485)][t(477)](t(444)))}}})}updateHealthBar(){const t=$;this.healthBar.clear();const s=this[t(452)]?55:40,e=this[t(452)]?7:5,i=this.x-s/2,n=this.y-this[t(424)]/2+30,a=Math[t(434)](this.hp/this.maxHp,0);this[t(453)][t(447)](0,1),this[t(453)][t(463)](i,n,s,e),this[t(453)][t(447)](16711680,1),this[t(453)].fillRect(i+1,n+1,(s-2)*a,e-2)}async[$(455)](){const t=$;if(this[t(461)])return;this[t(461)]=!0;const s=this.flipX?-1:1,e=20*s,i=Array[t(440)]({length:Math.min(this[t(456)],5)},((t,s)=>0===s?12:s-1+12));this.anims[t(477)](t(487)),this.scene[t(467)][t(483)](200,(()=>{let t=!1;i.forEach(((n,a)=>{const r=tt;this.scene[r(467)][r(483)](20*a,(()=>{const h=r,o=new Q(this[h(438)],this.x+e,this.y+n,this);o[h(472)]=this,o[h(486)](s,1e3,10*n),!t&&(this[h(438)].sound.play(h(482),{volume:.35,detune:Phaser.Math[h(441)](-500,500)}),t=!0),a===i[h(465)]-1&&(this.isAttacking=!1,this.anims[h(477)](h(444)))}))}))}))}[$(429)](t){const s=$,e=this[s(438)][s(448)][s(484)](this.x,this.y-40,t,{fontSize:s(423),color:"#ffffff",backgroundColor:"#000000",padding:{x:10,y:5}});this.scene[s(436)][s(448)]({targets:e,y:e.y-20,alpha:0,duration:1e3,ease:s(442),onComplete:()=>{e[s(427)]()}})}[$(464)](t,s){const e=$;super[e(464)](t,s),this[e(459)]()}}const it=at;function nt(){const t=["isAttacking","setGravityY","wizard-jump","isDown","add","9wamAjs","input","right","updateHealthBar","updateExperienceBar","hit","flipX","cursorKeys","gainExperience","updateLevelText","ILmen","365910dMaKgW","levelXp","11bLEYKR","20px Arial","70lwRNvp","spotlight","478634IKIxKV","velocity","Linear","scene","play","ryeGk","showToast","wizard-idle","XP: ","setPosition","isInvincible","pad1","49gQmjyw","Error in handleMovement:","down","level","showFloatingCombatText","jump","12px Arial","1408122gtzsZN","TMksi","keyboardKeys","setDepth","gamepad","handleMovement","backgroundGlacialMountains","activePointer","blocked","player","error","anims","3604376WKPjdX","GFsbr","tilePositionX","setVelocityX","wizard-run","xjBNz","173982vZfkOG","zqFIV","xpToNextLevel","12vDDvDV","setAlpha","17640396wVcjoy","tweens","body","IBHIq","dOJzZ","setOffset","sound","2317150mMgEkd","left","EEqCe","LEVEL "];return(nt=function(){return t})()}function at(t,s){const e=nt();return(at=function(t,s){return e[t-=435]})(t,s)}!function(t,s){const e=at,i=nt();for(;;)try{if(759550==parseInt(e(494))/1+-parseInt(e(500))/2*(parseInt(e(483))/3)+parseInt(e(465))/4*(parseInt(e(474))/5)+parseInt(e(462))/6*(-parseInt(e(437))/7)+-parseInt(e(456))/8+-parseInt(e(444))/9*(parseInt(e(498))/10)+-parseInt(e(496))/11*(-parseInt(e(467))/12))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class rt extends et{constructor(t,s,e,i){var n;const a=it;super(t,s,e,i,100,!1),D(this,l,0),D(this,c,800),D(this,o,!1),this[a(479)](2e3),this[a(447)](10),null==(n=this[a(469)])||n.setSize(60,70)[a(472)](30,60)}[(l=it(495),c=it(464),o=it(435),it(488))](t){const s=it;this[s(435)]||(this[s(503)].updateHealthBar(),this.hp-=t,this[s(441)](this.x,this.y,""+t),this[s(503)][s(468)].add({targets:this,alpha:.1,duration:100,ease:s(502),yoyo:!0,repeat:1,onActive:()=>{this[s(435)]=!0},onComplete:()=>{var t;const e=s;e(505)!==e(461)?(this[e(435)]=!1,this[e(466)](1)):(this.flipX=!0,(null==(t=this[e(469)])?void 0:t[e(452)][e(439)])&&!this[e(478)]&&this[e(455)].play(e(460),!0),this[e(503)].player[e(469)][e(501)].x&&!this[e(503)][e(453)][e(469)][e(452)][e(475)]&&(this[e(503)][e(450)][e(458)]-=.1),this[e(459)](-_0x418967))}}))}[it(491)](t){const s=it;this.levelXp+=t,this[s(441)](this.x,this.y-10,s(508)+t,"#8a2be2",s(443)),this[s(495)]>=this[s(464)]&&(this.levelXp=0,this[s(440)]++,this.hp=100,this[s(464)]=this[s(464)]+130,this[s(503)][s(506)](s(477)+this[s(440)],"20px Arial")),this[s(503)][s(487)](),this[s(503)][s(492)]()}[it(449)](){var t,s,e,i,n,a,r,h,o,c,l,p,d,u,f;const g=it;try{if(g(493)===g(470))return;{(null==(t=this[g(503)].input[g(448)])?void 0:t[g(436)])||("PRmNv"===g(463)?this[g(455)][g(504)](g(460),!0):this[g(503)][g(484)][g(451)].worldX<this.x?"bvrtl"===g(471)?(this[g(435)]=!1,this.setAlpha(1)):this[g(489)]=!0:this[g(489)]=!1);const y=null==(s=this[g(503)].joyStick)?void 0:s.forceX;if(this[g(503)][g(484)].keyboard||this[g(503)][g(484)][g(448)])if("PnNUV"!==g(445)){if(this[g(503)].cursorKeys.left[g(481)]||(null==(i=null==(e=this[g(503)][g(484)][g(448)])?void 0:e[g(436)])?void 0:i[g(475)])||y&&y<-.1||this[g(503)][g(446)].A[g(481)])this.flipX=!0,(null==(n=this[g(469)])?void 0:n[g(452)][g(439)])&&!this[g(478)]&&this.anims.play(g(460),!0),this[g(503)][g(453)][g(469)][g(501)].x&&!this[g(503)][g(453)][g(469)][g(452)][g(475)]&&(this[g(503)][g(450)][g(458)]-=.1),this[g(459)](-400);else if(this[g(503)][g(490)].right[g(481)]||(null==(r=null==(a=this[g(503)][g(484)].gamepad)?void 0:a.pad1)?void 0:r[g(485)])||y&&y>.1||this.scene[g(446)].D[g(481)])this.flipX=!1,(null==(h=this.body)?void 0:h[g(452)].down)&&!this[g(478)]&&this[g(455)][g(504)](g(460),!0),this[g(503)].player[g(469)][g(501)].x&&!this[g(503)][g(453)][g(469)][g(452)][g(485)]&&("EEqCe"!==g(476)?(this[g(495)]=0,this[g(440)]++,this.hp=100,this[g(464)]=this.xpToNextLevel+130,this.scene.showToast(g(477)+this.level,g(497))):this[g(503)].backgroundGlacialMountains[g(458)]+=.1),this[g(459)](400);else{if((null==(o=this[g(469)])?void 0:o[g(452)][g(439)])&&!this[g(478)])if("GFsbr"!==g(457)){if(this[g(435)])return;this[g(503)][g(486)](),this.hp-=_0xf3fdb4,this[g(441)](this.x,this.y,""+_0xa2f6c2),this.scene[g(468)][g(482)]({targets:this,alpha:.1,duration:100,ease:g(502),yoyo:!0,repeat:1,onActive:()=>{this[g(435)]=!0},onComplete:()=>{const t=g;this[t(435)]=!1,this[t(466)](1)}})}else this[g(455)][g(504)](g(507),!0);this.setVelocityX(0)}((null==(c=this.scene[g(490)].up)?void 0:c.isDown)||(null==(p=null==(l=this[g(503)].input[g(448)])?void 0:l[g(436)])?void 0:p.up)||(null==(u=null==(d=this[g(503)][g(484)][g(448)])?void 0:d[g(436)])?void 0:u.A)||this[g(503)][g(446)].W.isDown)&&(null==(f=this[g(469)])?void 0:f[g(452)].down)&&(this.anims[g(504)](g(480)),this[g(503)][g(473)][g(504)](g(442),{volume:.2}),this.setVelocityY(-800)),this.scene[g(499)][g(509)](this.x,this.y+20)}else this[g(503)].input.activePointer.worldX<this.x?this[g(489)]=!0:this[g(489)]=!1}}catch(y){console[g(454)](g(438),y)}}preUpdate(t,s){const e=it;super.preUpdate(t,s),this[e(449)]()}}function ht(){const t=["body","abs","45903NUoHfJ","Math","knight-jump","2814416ztkeIi","delayedCall","setSize","120XyosqY","4872juoaiq","player","physics","138439sdpOtU","anims","knight-running","scene","isBigBoy","rectangle","overlap","globalCooldown","Between","3mYgjPV","324874xoBppN","wdhSn","play","Events","lastAttack","9sVhiVh","active","Animations","knight-attack","time","ANIMATION_COMPLETE","52aoMfCv","50QxNxfM","866080tOVVll","setPipeline","isAttacking","33453XmTiTN","isDazed","canAttack","isInvincible","Vector2","setOffset","setFlipX","movementSpeed","setVelocityX","preUpdate","setAllowGravity","chasePlayer","destroy","221602NeQRCj","flipX"];return(ht=function(){return t})()}const ot=ct;function ct(t,s){const e=ht();return(ct=function(t,s){return e[t-=105]})(t,s)}!function(t,s){const e=ct,i=ht();for(;;)try{if(234424==parseInt(e(131))/1*(-parseInt(e(108))/2)+parseInt(e(148))/3*(-parseInt(e(143))/4)+parseInt(e(145))/5+parseInt(e(118))/6*(-parseInt(e(122))/7)+-parseInt(e(115))/8*(parseInt(e(137))/9)+parseInt(e(144))/10*(-parseInt(e(132))/11)+parseInt(e(119))/12*(parseInt(e(112))/13))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class lt extends et{constructor(t,s,e,i){const n=ot;super(t,s,e,i,50),D(this,g,!0),D(this,f,!1),D(this,u,2500),D(this,"movementSpeed",80),D(this,d,!1),D(this,p,null),this[n(146)]("Light2D"),this.setCollideWorldBounds(!0)}[(g=ot(150),f=ot(149),u=ot(129),d=ot(126),p=ot(136),ot(106))](t){var s,e;const i=ot;if(null==(s=this[i(110)])||s[i(117)](25,40)[i(153)](45,40),this[i(138)]){new(Phaser[i(113)][i(152)])(t.x-this.x,t.y-this.y).normalize().x<0?this[i(154)](!0):this[i(154)](!1);const s=t.x>this.x?1:-1,n=Math[i(111)](t.x-this.x),a=Math.abs(t.y-this.y);if(n<=20&&a<=20&&this[i(150)]&&!1===this[i(147)]&&0===Phaser[i(113)][i(130)](0,10)){this[i(147)]=!0,this.canAttack=!1,this[i(123)][i(134)](i(140),!0);const s=this[i(125)].add[i(127)](this.x+(this[i(109)]?-20:20),this.y+20,30,20);this.scene.physics.add.existing(s),s[i(110)][i(105)](!1),this[i(136)]=Date.now();let e=0;this[i(125)][i(121)].add[i(128)](s,t,(()=>{const s=i;if(!t[s(151)]&&0===e){const i=Phaser[s(113)][s(130)](5,15);t.hit(i),e++}}),void 0,this),this[i(125)][i(141)][i(116)](this[i(129)],(()=>{const t=i;this[t(147)]=!1,this[t(150)]=!0})),this.once(Phaser[i(139)][i(135)][i(142)],(()=>{const t=i;"sPqgx"===t(133)?(this[t(147)]=!1,_0x4547f3[t(107)](),this[t(149)]):(this[t(147)]=!1,s[t(107)](),this.isDazed)})),this[i(125)][i(141)][i(116)](250,(()=>{const t=i;s[t(138)]&&s[t(107)]()}))}else n>20&&!1===this.isAttacking&&!this.isDazed&&(this[i(123)][i(134)](i(124),!0),this.setVelocityX(s*this[i(155)]));(null==(e=this[i(110)])?void 0:e.blocked.down)&&0===Phaser.Math[i(130)](0,1e4)&&(this.anims[i(134)](i(114)),this.setVelocityY(Phaser[i(113)][i(130)](-200,-800)),this[i(156)](s*this[i(155)]))}}[ot(157)](t,s){const e=ot;super[e(157)](t,s),this[e(106)](this.scene[e(120)])}}function pt(){const t=["6111kqQKyz","2024jywdmx","2460COTuNY","anims","16uorjkf","exists","12gZJIIZ","690JeFcRt","20679xHMjAP","load","1366967gTKsqk","6UBfMZf","create","1219990YPvIGq","2794270cHqNzt","260799AQjmoS","Loader","once","Events"];return(pt=function(){return t})()}function dt(t,s){const e=pt();return(dt=function(t,s){return e[t-=336]})(t,s)}!function(t,s){const e=dt,i=pt();for(;;)try{if(156084==parseInt(e(348))/1*(-parseInt(e(344))/2)+-parseInt(e(347))/3*(-parseInt(e(342))/4)+parseInt(e(353))/5*(parseInt(e(351))/6)+-parseInt(e(350))/7+-parseInt(e(341))/8*(parseInt(e(340))/9)+parseInt(e(354))/10+parseInt(e(336))/11*(parseInt(e(346))/12))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const ut=[{key:"wizard-idle",path:"assets/characters/wizard/idle.png",frameWidth:128,frameHeight:128,start:0,end:7,frameRate:12,repeat:-1},{key:"wizard-run",path:"assets/characters/wizard/run.png",frameWidth:128,frameHeight:128,start:0,end:7,frameRate:12,repeat:-1},{key:"wizard-jump",path:"assets/characters/wizard/jump.png",frameWidth:128,frameHeight:128,start:0,end:7,frameRate:12,repeat:0},{key:"wizard-attack",path:"assets/characters/wizard/attack.png",frameWidth:128,frameHeight:128,start:0,end:8,frameRate:40,repeat:0},{key:"knight-idle",path:"assets/characters/knight/idle.png",frameWidth:120,frameHeight:80,start:0,end:9,frameRate:10,repeat:-1},{key:"knight-running",path:"assets/characters/knight/running.png",frameWidth:120,frameHeight:80,start:0,end:9,frameRate:16,repeat:-1},{key:"knight-attack",path:"assets/characters/knight/attack.png",frameWidth:120,frameHeight:80,start:0,end:5,frameRate:24,repeat:0},{key:"knight-jump",path:"assets/characters/knight/jump.png",frameWidth:120,frameHeight:80,start:0,end:2,frameRate:5,repeat:0},{key:"lightning-bolt",path:"assets/spells/lightning-bolt.png",frameWidth:256,frameHeight:128,start:0,end:3,frameRate:12,repeat:-1},{key:"lightning-shield",path:"assets/spells/lightning-shield.png",frameWidth:128,frameHeight:128,start:0,end:3,frameRate:40,repeat:-1},{key:"tiles",path:"assets/tiles.png",frameWidth:88,frameHeight:88}];function ft(t,s){const e=yt();return(ft=function(t,s){return e[t-=370]})(t,s)}const gt=ft;function yt(){const t=["time","game","1885770eKcTJs","rexvirtualjoystickplugin","Light2D","startFollow","say","maxHp","gameOverOnFallOutOfWorld","repeat","device","main","movementSpeed","#000000","globalCooldown","updateHealthBar","cameras","plugin","setPipeline","zoomTo","background","39176bbigLC","pYPkc","694237BRmqzb","handleCastSpells","wizard-idle","LiOEW","7BBgDTq","setPosition","isDown","44nfWUMw","keyboard","text","setCollideWorldBounds","group","setSize","random","update","abs","ceil","addEvent","width","spawnEnemies","handleSpellCollision","Keyboard","DIE!","2sDMgKL","path","setScrollFactor","getChildren","length","4499436UzCUiK","graphics","sound","countActive","frameWidth","#ffffff","delayedCall","background_middle","characters","HySxP","cursorKeys","end","enable","NFiFv","16px Arial","KeyCodes","player","oPmiu","updateExperienceBar","setScale","setFontSize","has","collider","setY","setVelocityX","lights","setOrigin","Wivhi","circle","tileSprite","addLight","level","physics","YjqIf","5097550RakGYM","createPlatforms","levelText","frameRate","space","enemiesHitCount","801jKgQJK","Between","14px Arial","gamepad","setAmbientColor","setBounds","UPJQH","rxQik","attackKey","8SGKHfY","world","experienceBar","GameOver","get","android","hitTarget","cYaYH","overlap","evaluateGameOver","pad1","fillStyle","floor","joyStick","isBigBoy","Power2","Zrhvu","Game","key","frameHeight","add","filter","start","owner","destroy","Uduqv","tweens","sys","iOS","HUuyo","QizjP","input","addKeys","platforms","stop","shake","Input","createCursorKeys","load","Math","624732yfXkTA","targetsHit","2315802zQMkyW","toastMessages","min","canAttack","preload","strokeRect","setX","isDazed","enemies","lineStyle","setText","fillRect","scene","forEach","create","push","spells","setFlipX","calculateDamage","spotlight","hit","healthBar","backgroundClouds","backgroundGlacialMountains"];return(yt=function(){return t})()}!function(t,s){const e=ft,i=yt();for(;;)try{if(385020==-parseInt(e(441))/1*(parseInt(e(464))/2)+parseInt(e(392))/3*(parseInt(e(518))/4)+-parseInt(e(420))/5+parseInt(e(394))/6*(-parseInt(e(445))/7)+parseInt(e(439))/8*(parseInt(e(509))/9)+-parseInt(e(503))/10+-parseInt(e(448))/11*(-parseInt(e(469))/12))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const mt=5e3;class xt extends W.Scene{constructor(){super(gt(535)),D(this,M),D(this,C),D(this,"enemies"),D(this,"spells"),D(this,S),D(this,P),D(this,"keyboardKeys"),D(this,w),D(this,b),D(this,"spotlight"),D(this,v),D(this,k),D(this,I),D(this,"healthBar"),D(this,x),D(this,m),D(this,y,[])}[(M=gt(385),C=gt(477),S=gt(485),P=gt(479),w=gt(517),b=gt(531),v=gt(438),k=gt(417),I=gt(416),x=gt(520),m=gt(505),y=gt(395),gt(398))](){const t=gt;this[t(390)][t(435)](t(421),"https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexvirtualjoystickplugin.min.js",!0),ut[t(407)]((s=>{const e=t;e(482)!==e(516)&&((t,s,e,i,n,a,r,h=12,o=-1)=>{const c=dt;t[c(349)].spritesheet(s,e,{frameWidth:i,frameHeight:n}),t[c(349)][c(338)](Phaser[c(337)][c(339)].COMPLETE,(()=>{const e=c;!t[e(343)][e(345)](s)&&t[e(343)][e(352)]({key:s,frames:t[e(343)].generateFrameNumbers(s,{start:a,end:r}),frameRate:h,repeat:o})}))})(this,s[e(370)],s[e(465)],s[e(473)],s[e(371)],s[e(374)],s[e(480)],s.frameRate,s[e(427)])}))}[gt(408)](){var t;const s=gt;this[s(438)]=this[s(372)][s(498)](0,0,mt,Ht,"background_back").setOrigin(0,0)[s(488)](1.18,1.18).setAlpha(.8),this.backgroundGlacialMountains=this[s(372)].tileSprite(0,0,mt,Ht,s(476))[s(495)](0,0).setScale(1.18,1.18)[s(436)](s(422)),(this[s(379)][s(419)].device.os[s(523)]||this[s(379)][s(419)][s(428)].os[s(380)]||navigator.webdriver)&&(this[s(531)]=this.plugins[s(522)](s(421))[s(372)](this,{x:50,y:Ht-50,radius:100,base:this[s(372)][s(497)](0,0,30,8947848),thumb:this[s(372)][s(497)](0,0,10,13421772)})),this[s(501)][s(519)].setBounds(0,0,mt,Ht),this[s(434)].main[s(514)](0,0,mt,Ht),this.platforms=this[s(501)][s(372)].group({immovable:!0,allowGravity:!1}),this[s(504)](),this[s(477)]=this[s(501)][s(372)][s(452)]({classType:et}),this[s(402)]=this[s(501)][s(372)][s(452)]({classType:lt,runChildUpdate:!0}),this[s(410)]=this[s(501)][s(372)][s(452)]({classType:F}),this[s(485)]=new rt(this,200,Ht-150,s(443)),this[s(485)][s(411)](!0),this[s(434)].main[s(437)](1,0),this.characters[s(372)](this[s(485)]),this[s(485)][s(488)](.66),this[s(485)][s(451)](!0),this[s(434)][s(429)][s(423)](this[s(485)],!0,5,5),this[s(494)][s(481)](),this[s(494)][s(513)](0),this[s(494)][s(513)](0),this[s(413)]=this[s(494)][s(499)](this[s(485)].x,this[s(485)].y,500).setIntensity(2),this[s(501)][s(372)][s(491)](this[s(477)],this.platforms),this[s(501)][s(372)][s(526)](this[s(410)],this[s(385)],(t=>{const e=s;this.time[e(475)](1e3,(()=>{t[e(376)]()}))})),this[s(501)].add[s(526)](this[s(410)],this.characters,((t,e)=>this[s(461)](t,e)),void 0,this),this[s(383)][s(449)]&&(s(382)!=s(382)?this[s(378)][s(372)]({targets:_0x4102c0,y:10+20*_0x3626cb,duration:300,ease:"Power2"}):(this[s(479)]=this[s(383)].keyboard[s(389)](),this.keyboardKeys=null==(t=this[s(383)][s(449)])?void 0:t[s(384)]({W:Phaser[s(388)][s(462)][s(484)].W,A:Phaser[s(388)].Keyboard[s(484)].A,S:Phaser.Input[s(462)][s(484)].S,D:Phaser[s(388)].Keyboard[s(484)].D}))),this[s(415)]=this[s(372)][s(470)](),this[s(415)].setScrollFactor(0),this[s(433)](),this.experienceBar=this.add[s(470)](),this[s(520)][s(466)](0),this[s(487)](),this[s(505)]=this[s(372)][s(450)](24,60,"",{font:s(483),color:s(474),stroke:s(431),strokeThickness:1}),this[s(505)][s(466)](0),this.updateLevelText(),this[s(418)][s(458)]({delay:1e3,callback:this[s(460)],callbackScope:this,loop:!0})}createPlatforms(){const t=(t,s,e,i=0)=>{const n=ft,a=this[n(385)][n(408)](t,s,e,i);a[n(436)]("Light2D"),a[n(453)](80,50)},s=Math[gt(457)](78.125)+1;for(let e=0;e<s;e++)t(64*e,320,"tiles")}[gt(460)](){const t=gt;if(this[t(402)][t(472)]()>20)return;if(10===this[t(402)][t(467)]()[t(373)]((s=>s[t(532)]))[t(468)]){if(t(444)==t(444))return;{const s=(s,e,i,n=0)=>{const a=t,r=this[a(385)].create(s,e,i,n);r[a(436)](a(422)),r[a(453)](80,50)},e=64,i=_0x2cd3c7[t(457)](_0x187231/e)+1;for(let t=0;t<i;t++)s(t*e,_0x5564c4,"tiles")}}const s=0===Phaser.Math.Between(0,1);let e;do{if(t(478)===t(486))return;e=s?Phaser[t(391)].Between(100,2500):Phaser.Math.Between(2500,4900)}while(Math[t(456)](e-this[t(485)].x)<290);const i=new lt(this,e,220,"knight-idle");this[t(402)][t(372)](i),0===Phaser[t(391)][t(510)](0,15)&&(i[t(532)]=!0,i.setScale(1.5),i.globalCooldown=1e3,i[t(430)]=200,i.hp=150,i[t(425)]=150,i.canAttack=!0,this[t(378)][t(372)]({targets:i,x:this.player.x,y:this[t(485)].y-30,alpha:1,duration:200,onComplete:()=>{const s=t;if("UPJQH"!==s(515))_0x2ee7e8[s(532)]=!0,_0x466e35.setScale(1.5),_0x5b7cad[s(432)]=1e3,_0x1f06ac[s(430)]=200,_0x4f3f12.hp=150,_0x391d3f.maxHp=150,_0x17891b[s(397)]=!0,this[s(378)][s(372)]({targets:_0x47c3d4,x:this[s(485)].x,y:this[s(485)].y-30,alpha:1,duration:200,onComplete:()=>{const t=s;if(!_0x52aa28)return;const e=["DIE!"];_0x3972b[t(424)](e[_0x8bd07[t(530)](_0xdd4bb8.random()*e[t(468)])]),this[t(434)][t(429)][t(387)](100,.01),this.player[t(414)](40)}});else{if(!i)return;const t=["DIE!"];i[s(424)](t[Math[s(530)](Math.random()*t[s(468)])]),this[s(434)][s(429)][s(387)](100,.01),this[s(485)][s(414)](40)}}})),this[t(477)][t(372)](i)}[gt(524)](t,s=0){0===s&&(s=this[gt(412)](t)),t.hit(s)}[gt(461)](t,s){const e=gt;if(!t[e(393)][e(490)](s))if(t[e(393)][e(372)](s),t.owner instanceof rt&&s instanceof lt)if(e(381)!==e(496)){if(this[e(524)](s),t.enemiesHitCount++,Phaser.Math[e(510)](1,100)<=20){s[e(401)]=!0;const i=s.x>t.x?1:-1;s[e(493)](200*i),this[e(418)].delayedCall(300,(()=>{s[e(401)]=!1}))}if(t[e(508)]>=3)if("FWyNe"!==e(525))this.tweens[e(372)]({targets:t,alpha:0,duration:100,onComplete:()=>{t.destroy()}});else{const t=this[e(372)].text(0,0,_0x14c02e,{font:_0x1e3a73,color:e(474),stroke:e(431),strokeThickness:2});t[e(466)](0),t[e(400)](_0x486b06/2-t[e(459)]/2),t[e(492)](_0x50162b/2-100),this[e(395)].push(t),this[e(378)][e(372)]({targets:t,y:t.y+20*this.toastMessages.length,duration:300,ease:e(533)}),this.time[e(475)](500,(()=>{const s=e;this[s(395)]=this.toastMessages[s(373)]((s=>s!==t)),t.destroy(),this.toastMessages[s(407)](((t,e)=>{const i=s;this[i(378)][i(372)]({targets:t,y:10+20*e,duration:300,ease:i(533)})}))}))}}else _0x29b768(this,_0x31d6e6[e(370)],_0x1cedf2[e(465)],_0xae6148[e(473)],_0x265b5a[e(371)],_0x2f4362[e(374)],_0x565265[e(480)],_0x5a0c60[e(506)],_0x52da82[e(427)]);else t[e(375)]instanceof lt&&s instanceof rt&&this[e(524)](s)}[gt(412)](t){const s=gt;if(t===this[s(485)])return Phaser[s(391)].Between(5,10);if(t instanceof lt){if(s(534)==s(534))return Phaser[s(391)][s(510)](2,10);this[s(485)].y>_0x310ee7&&(this.player.hp=0,this.evaluateGameOver())}return 0}[gt(433)](){const t=gt;this[t(415)].clear(),this[t(415)][t(529)](16711680,1),this[t(415)][t(405)](12,8,.8*this[t(485)].hp,5),this.healthBar[t(403)](1,0),this[t(415)][t(399)](12,8,80,5)}[gt(487)](){const t=gt;this[t(520)].clear(),this[t(520)][t(529)](9055202,1);const s=Math[t(396)](this[t(485)].levelXp/this[t(485)].xpToNextLevel*80,80);this.experienceBar[t(405)](12,16,s,3),this[t(520)][t(403)](1,0),this[t(520)][t(399)](12,16,80,3)}updateLevelText(){const t=gt;this[t(505)][t(404)](""+this[t(485)][t(500)]),this.levelText[t(489)](15),this[t(505)][t(446)](Et-20,4)}[gt(527)](){const t=gt;if(this[t(485)].hp<=0){if("YkIIi"===t(502))return _0x21d6ec[t(391)].Between(5,10);this[t(406)][t(386)](),this[t(485)].hp=100,this.scene.start(t(521),{level:this[t(485)][t(500)]}),this[t(471)].stopAll()}}[gt(426)](){const t=gt;this[t(485)].y>Ht&&(this[t(485)].hp=0,this[t(527)]())}handleCastSpells(){var t,s,e;const i=gt;if((null==(s=null==(t=this[i(383)][i(512)])?void 0:t[i(528)])?void 0:s.X)||(null==(e=this[i(479)][i(507)])?void 0:e[i(447)]))if(i(377)==i(377))this.player.castLightningSpell();else{if(!_0x1804a3)return;const t=[i(463)];_0x53124b[i(424)](t[_0x4de421[i(530)](_0x31b9d0[i(454)]()*t[i(468)])]),this[i(434)][i(429)][i(387)](100,.01),this[i(485)][i(414)](40)}}showToast(t,s=gt(511)){const e=gt,i=this.add[e(450)](0,0,t,{font:s,color:"#ffffff",stroke:e(431),strokeThickness:2});i[e(466)](0),i[e(400)](Et/2-i[e(459)]/2),i[e(492)](Ht/2-100),this.toastMessages[e(409)](i),this.tweens[e(372)]({targets:i,y:i.y+20*this.toastMessages[e(468)],duration:300,ease:"Power2"}),this[e(418)][e(475)](500,(()=>{const t=e;this[t(395)]=this[t(395)][t(373)]((t=>t!==i)),i[t(376)](),this.toastMessages.forEach(((s,e)=>{const i=t;if(i(440)!=i(440))return _0x7e0c08===this[i(485)]?_0x411275[i(391)][i(510)](5,10):_0x56ba92 instanceof _0x10c9ef?_0x4013e4.Math[i(510)](2,10):0;this.tweens[i(372)]({targets:s,y:10+20*e,duration:300,ease:i(533)})}))}))}[gt(455)](){const t=gt;this[t(527)](),this[t(442)](),this[t(426)]()}}const It=kt;function kt(t,s){const e=vt();return(kt=function(t,s){return e[t-=233]})(t,s)}function vt(){const t=["text","Input","height","start","30CeUeLW","1424724bhhIUu","scale","image","level","2324dhEJMv","center","down","969987jJqrdk","keyboard","#000","width","Keyboard","MainMenu","add","#fff","\nLevel Reached: ","input","2525288NKkcge","2PqeNQp","background","create","pointerdown","gameover_text","5936210cSRHfC","scene","4682709ElSNKA","7145nNCuqY","camera","802546tqqGTt"];return(vt=function(){return t})()}!function(t,s){const e=kt,i=vt();for(;;)try{if(455384==parseInt(e(257))/1+-parseInt(e(247))/2*(-parseInt(e(236))/3)+parseInt(e(233))/4*(-parseInt(e(255))/5)+-parseInt(e(263))/6+-parseInt(e(252))/7+-parseInt(e(246))/8+-parseInt(e(254))/9*(-parseInt(e(262))/10))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class bt extends W.Scene{constructor(){super("GameOver"),D(this,T),D(this,A),D(this,B),D(this,_,0)}init(t){const s=It;this[s(266)]=t[s(266)]}[(T=It(256),A=It(248),B=It(251),_=It(266),It(249))](){var t;const s=It,e=this[s(264)][s(239)]/2,i=this[s(264)][s(260)]/2;this[s(248)]=this[s(242)][s(265)](e,i,s(248)),this.scene.stop("Game"),this[s(251)]=this.add[s(258)](e,i,s(244)+(this[s(266)]||0),{fontFamily:"Arial Black",fontSize:30,color:s(243),stroke:s(238),strokeThickness:8,align:s(234)}),this[s(251)].setOrigin(.5);const n=null==(t=this[s(245)][s(237)])?void 0:t.addKey(Phaser[s(259)][s(240)].KeyCodes.SPACE);null==n||n.once(s(235),(()=>{const t=s;this[t(253)].start(t(241))})),this.input.once(s(250),(()=>{const t=s;this[t(253)][t(261)](t(241))}))}}const wt=Pt;function Pt(t,s){const e=St();return(Pt=function(t,s){return e[t-=379]})(t,s)}function St(){const t=["input","6419600gfkvaB","4228088LiJaWT","Keyboard","87111SyvuVw","2370819YqwaSo","PRESS SPACE OR TAP TO START","image","#ffffff","#000000","time","Input","Arial Black","KeyCodes","once","1731KLCxOs","scale","412JsGcpq","5675470UxJiqI","SPACE","7pUogEJ","4466550WzGFnt","add","setOrigin","4970atqsjS","pointerdown","delayedCall","center","start","width","keyboard","Game","setAlpha","background","addKey","subtitle","scene"];return(St=function(){return t})()}!function(t,s){const e=Pt,i=St();for(;;)try{if(637785==-parseInt(e(382))/1*(-parseInt(e(384))/2)+-parseInt(e(409))/3+-parseInt(e(406))/4+-parseInt(e(385))/5+parseInt(e(388))/6*(-parseInt(e(387))/7)+-parseInt(e(405))/8+parseInt(e(408))/9*(parseInt(e(391))/10))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class Ct extends(E=W.Scene,j=wt(400),z=wt(402),E){constructor(){super("MainMenu"),D(this,j),D(this,"title"),D(this,z)}create(){var t;const s=wt,e=this[s(383)][s(396)]/2,i=this[s(383)].height/2;this[s(400)]=this[s(389)][s(411)](e,i,s(400)),this[s(400)][s(399)](.2),this[s(402)]=this[s(389)].text(e,i,s(410),{fontFamily:s(379),fontSize:22,color:s(412),stroke:s(413),strokeThickness:4,align:s(394)})[s(390)](.5);const n=null==(t=this[s(404)][s(397)])?void 0:t[s(401)](Phaser[s(415)][s(407)][s(380)][s(386)]);null==n||n[s(381)]("down",(()=>{const t=s;this.scene[t(395)](t(398))})),this.input[s(381)](s(392),(()=>{const t=s;this[t(414)][t(393)](50,(()=>{const s=t;this[s(403)][s(395)](s(398))}))}))}}const Mt=_t;function _t(t,s){const e=Bt();return(_t=function(t,s){return e[t-=270]})(t,s)}function Bt(){const t=["jump","210BnVcwg","scene","lightning-bolt","height","8xLitat","width","setAlpha","background","assets/background/middle.png","rectangle","background_back","1mWjMHq","2985975VZwcup","audio","assets/audio/jump.wav","Preloader","51082CYrxSw","assets/audio/lightning-shield.wav","image","125388OZGMwn","637610OKWcvh","scale","6LlZEGg","3025512kDYjrY","309001YOOxVt","lightning-shield","load","tap","add","535953dEebBk","assets/background/back.png","background_middle"];return(Bt=function(){return t})()}!function(t,s){const e=_t,i=Bt();for(;;)try{if(307688==parseInt(e(277))/1*(-parseInt(e(282))/2)+parseInt(e(288))/3*(parseInt(e(285))/4)+parseInt(e(286))/5+-parseInt(e(289))/6+-parseInt(e(290))/7+parseInt(e(270))/8*(-parseInt(e(278))/9)+parseInt(e(299))/10*(parseInt(e(295))/11))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class At extends(L=W.Scene,H=Mt(273),L){constructor(){super(Mt(281)),D(this,H)}init(){const t=Mt,s=this[t(287)][t(271)]/2,e=this.scale[t(302)]/2;this[t(273)]=this[t(294)][t(284)](s,e,t(273)),this.background[t(272)](.2),this[t(294)][t(275)](Et/2,Ht/2,Et-172,32).setStrokeStyle(1,16777215);const i=this[t(294)][t(275)](Et/2-(Et-172)/2+2,Ht/2,4,28,16777215);this[t(292)].on("progress",(t=>{i.width=4+(Et-176)*t}))}preload(){const t=Mt;this[t(292)][t(284)](t(276),t(296)),this[t(292)][t(284)](t(297),t(274)),this[t(292)][t(279)](t(293),"assets/audio/tap.wav"),this.load[t(279)](t(301),"assets/audio/lightning-bolt.wav"),this[t(292)][t(279)](t(291),t(283)),this[t(292)][t(279)](t(298),t(280))}create(){this[Mt(300)].start("MainMenu")}}function Tt(){const t=["970OmCNvk","908154daNnQq","AUTO","892725PVyIWu","#000","1553184GAdYwe","192955ISpxRI","1187190qbvtLt","Scale","4ybhoLl","17622xIwNZy","12ZwbUdI","28uiqDLi","16177722lYHeiS","arcade"];return(Tt=function(){return t})()}const zt=jt;function jt(t,s){const e=Tt();return(jt=function(t,s){return e[t-=123]})(t,s)}!function(t,s){const e=jt,i=Tt();for(;;)try{if(603686==parseInt(e(137))/1+-parseInt(e(131))/2+parseInt(e(133))/3*(parseInt(e(124))/4)+parseInt(e(136))/5*(parseInt(e(126))/6)+-parseInt(e(127))/7*(-parseInt(e(135))/8)+-parseInt(e(125))/9*(-parseInt(e(130))/10)+-parseInt(e(128))/11)break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const Et=640,Ht=320,Lt={type:Phaser[zt(132)],width:Et,height:Ht,pixelArt:!0,roundPixels:!0,zoom:6,parent:"game-container",backgroundColor:zt(134),scale:{mode:Phaser[zt(123)].FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:zt(129),arcade:{gravity:{x:0,y:2e3}}},scene:[G,At,Ct,xt,bt]};new W.Game(Lt);
